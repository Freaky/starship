# Configuration avanc√©e

Alors que Starship est un shell polyvalent, vous devez parfois faire plus que d'√©diter `starship.toml` pour le faire les choses. Cette page d√©taille quelques techniques de configuration avanc√©es qu'on peut utiliser dans starship.

::: warning

Les configurations de cette section sont sujettes √† modification dans les versions √† venir de Starship.

:::

## Commandes pr√©-commande et pr√©-ex√©cution personnalis√©es en Bash

Bash n'a pas de cadre officiel pr√©exec/pr√©cmd comme la plupart des autres shell du commande. C'est pourquoi il est difficile de fournir des crochets enti√®rement personnalisables dans `bash`. Cependant, Starship vous donne une capacit√© limit√©e √† ins√©rer vos propres fonctions dans la proc√©dure de rendu commande :

- Pour ex√©cuter une fonction personnalis√©e juste avant que commande soit dessin√©e, d√©finissez une nouvelle fonction et assignez son nom √† `starship_precmd_user_func`. Par exemple, pour dessiner une fus√©e avant la commande, vous feriez

```bash
function blastoff(){
    echo "üöÄ"
}
starship_precmd_user_func="blastoff"
```

- Pour ex√©cuter une fonction personnalis√©e juste avant l'ex√©cution d'une commande, vous pouvez utiliser le [` DEBUG` m√©canisme d'interruption ](https://jichu4n.com/posts/debug-trap-and-prompt_command-in-bash/). Cependant, vous **devez** pi√®ger le signal DEBUG *avant* initialisation du Starship ! Starship peut pr√©server la valeur du pi√®ge DEBUG, mais si le pi√®ge est √©cras√© apr√®s le d√©marrage de Starship, certaines fonctionnalit√©s vont casser.

```bash
function blastoff(){
    echo "üöÄ"
}
trap blastoff DEBUG     # Pi√®ger DEBUG *avant* l'initiation de starship
eval $(starship init bash)
```

## Modifier le style des fen√™tres commande

Certaines commandes du shell changeront automatiquement le titre de la fen√™tre (par exemple, refl√©ter votre r√©pertoire de travail). Fish le fait par d√©faut. Starship ne le fait pas, mais il est assez simple d'ajouter cette fonctionnalit√© √† `bash` ou `zsh`.

Tout d'abord, d√©finir une fonction de changement de titre de fen√™tre (identique en bash et zsh) :

```bash
function set_titre_fenetre(){
    echo -ne "\033]0; TON_TITRE_FENETRE_ICI \007"
}
```

Vous pouvez utiliser des variables pour personnaliser ce titre (`$USER`, `$HOSTNAME`, et `$PWD` sont des choix populaires).

Dans `bash`, d√©finissez cette fonction comme la fonction pr√©cmd Starship :

```bash
starship_precmd_user_func="set_titre_gagnante"
```

Dans `zsh`, ajoutez ceci au tableau `precmd_functions` :

```bash
pr√©cmd_functions+=(set_titre_gagnant)
```

If you like the result, add these lines to your shell configuration file (`~/.bashrc` or `~/.zshrc`) to make it permanent.

For example, if you want to display your current directory in your terminal tab title, add the following snippet to your `~/.bashrc` or `~/.zshrc`:

```bash
function set_win_title(){
    echo -ne "\033]0; $(basename $PWD) \007"
}
starship_precmd_user_func="set_win_title"
```

## Cha√Ænes de style

Style strings are a list of words, separated by whitespace. The words are not case sensitive (i.e. `bold` and `BoLd` are considered the same string). Each word can be one of the following:

  - `bold`
  - `underline`
  - `dimmed`
  - `bg:<color>`
  - `fg:<color>`
  - `<color>`
  - `none`

where `<color>` is a color specifier (discussed below). `fg:<color>` and `<color>` currently do the same thing , though this may change in the future. The order of words in the string does not matter.

The `none` token overrides all other tokens in a string, so that e.g. `fg:red none fg:blue` will still create a string with no styling. It may become an error to use `none` in conjunction with other tokens in the future.

A color specifier can be one of the following:

 - Une des couleurs standard du terminal : `black`, `red`, `green`, `blue`, `yellow`, `purple`, `cyan`, `white`. Vous pouvez √©ventuellement les pr√©fixer avec `bright-` pour obtenir la version lumineuse (par exemple `bright-white`).
 - Un `#` suivi d'un nombre hexad√©cimal de six chiffres. Ceci sp√©cifie un [ Code hexad√©cimal de couleur RVB ](https://www.w3schools.com/colors/colors_hexadecimal.asp).
 - Un nombre entre 0-255. Ceci sp√©cifie un [code de couleur ANSI 8 bits](https://i.stack.imgur.com/KTSQa.png).

If multiple colors are specified for foreground/background, the last one in the string will take priority.
